@startuml
top to bottom direction
package "Participant" {
  [Consumer]
}
package "Frontend Layer" {
  [Portals]
}
package "Web3 Wallet" {
  [Metamask]
}
package "RPC Module" {
  [RPC]
}
package "Authentication" {
  [SSI Wallet]
}
package "API Layer" {
  [APIs (Publish, Consumes)] - [Access Controller Provider]
  [Catalogue Cache]
}
package "Storage Layer" {
  [Storage Services] - [Compute Services]
[Access Controller Provider]-d->[Compute Services]
}
package "DLT Layer" {
  [Contracting Service] - [Federated Catalogue]
  [Contracting Service]-down->[Data Exchange Logging]
  [Data Exchange Logging] -down-> [Validator Nodes]
  [Federated Catalogue] -down-> [Smart Contract Templates]
}
package "Gaia-X Compliance" {
  [Gaia-X Verifiers] -down-> [Policy Agent]
  [Gaia-X Verifiers]-right->[Gaia-X Issuer]
  [Gaia-X Registry] -right-> [Gaia-X Compliance Service]
}

Consumer -d-> Portals : consume
Metamask -r-> Portals
Metamask -d-> RPC
RPC -r-> [Validator Nodes]
Portals -r-> [SSI Wallet]
[SSI Wallet] -r-> [Access Controller Provider]
[SSI Wallet] -r-> Portals
Portals <-d-> [Catalogue Cache]
[Federated Catalogue] <-d-> [Catalogue Cache]
[Access Controller Provider] <-d-> [Gaia-X Verifiers]
[SSI Wallet] -d-> [Gaia-X Verifiers]

@enduml